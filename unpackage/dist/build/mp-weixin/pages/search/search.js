"use strict";const e=require("../../common/vendor.js");if(!Array){(e.resolveComponent("uni-search-bar")+e.resolveComponent("uni-icons"))()}Math||((()=>"../../uni_modules/uni-search-bar/components/uni-search-bar/uni-search-bar.js")+(()=>"../../uni_modules/uni-icons/components/uni-icons/uni-icons.js")+a)();const a=()=>"../../components/pic-search-list/pic-search-list.js",n={__name:"search",setup(a){let n=e.ref(""),t=e.ref(["明星","美女","帅哥","萌宠"]),r=e.ref([]),u=e.ref(null),o=e.ref(null);function s(e){e.target.dataset.tab&&(n.value=e.target.dataset.tab,c())}function c(){let a=r.value;u.value=n.value,a.some((e=>e.value==n.value))?a=a.map((e=>(e.value==n.value&&e.count++,e))):(r.value.length>=5&&r.value.shift(),r.value.push({count:1,value:n.value}),e.index.setStorageSync("recentlySearchValueList",r.value))}function l(){r.value=[],e.index.clearStorage()}return e.onLoad((()=>{e.index.getStorageInfoSync().keys.includes("recentlySearchValueList")&&(r.value=e.index.getStorageSync("recentlySearchValueList").reverse())})),e.onReachBottom((()=>{})),(a,i)=>e.e({a:e.o(c),b:e.o(e.m((a=>e.isRef(n)?n.value=a:n=a),{trim:!0},!0)),c:e.p({placeholder:"请输入要搜索的内容",radius:"15",bgColor:"#f8f8f8","text-color":"#787878",maxlength:"20",focus:!0,modelValue:e.unref(n)}),d:e.o(l),e:e.p({type:"trash",size:"24"}),f:e.f(e.unref(r),((a,n,t)=>({a:e.t(a.value),b:a.value,c:a.count>10?1:""}))),g:e.o(s),h:e.f(e.unref(t),((a,n,t)=>({a:e.t(a),b:a}))),i:e.o(s),j:e.unref(u)},e.unref(u)?{k:e.sr(o,"efb5467e-2",{k:"picSearch"}),l:e.p({keyword:e.unref(u)})}:{})}},t=e._export_sfc(n,[["__scopeId","data-v-efb5467e"]]);wx.createPage(t);
